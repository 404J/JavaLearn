<svg id="SvgjsSvg1006" width="1493.0624237060547" height="440.23895263671875" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1054" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1055" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1058" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1059" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1120" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1121" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1124" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1125" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1128" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1129" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1132" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1133" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1166" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1167" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1174" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1175" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(37.76837921142578,340.2098029633963)"><path id="SvgjsPath1009" d="M 0 30C 0 -10 98 -10 98 30C 98 70 0 70 0 30Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#b8b8b8"></path><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="78px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="20.55" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="16" x="49"><tspan id="SvgjsTspan1013" style="text-decoration:;">Producer3</tspan></tspan></text></g></g><g id="SvgjsG1014" transform="translate(203.7095718383789,130.2392142793143)"><path id="SvgjsPath1015" d="M 0 0L 432.11761474609375 0L 448.11761474609375 16L 448.11761474609375 284.64705657958984L 0 284.64705657958984L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1016" d="M 432.11761474609375 0L 432.11761474609375 16L 448.11761474609375 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1017" d="M 0 0L 432.11761474609375 0L 448.11761474609375 16L 448.11761474609375 284.64705657958984L 0 284.64705657958984L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1018"><text id="SvgjsText1019" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="429px" fill="#323232" font-weight="700" align="top" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="8.05" transform="rotate(0)"><tspan id="SvgjsTspan1020" dy="16" x="224.5"><tspan id="SvgjsTspan1021" style="text-decoration:;">Topic</tspan></tspan></text></g></g><g id="SvgjsG1022" transform="translate(247.76837921142578,168.53333506788852)"><path id="SvgjsPath1023" d="M 0 0L 360 0L 360 149L 0 149Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ccffff"></path><g id="SvgjsG1024"><text id="SvgjsText1025" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="340px" fill="#323232" font-weight="700" align="top" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="-1.95" transform="rotate(0)"><tspan id="SvgjsTspan1026" dy="16" x="180"><tspan id="SvgjsTspan1027" style="text-decoration:;">Partition1</tspan></tspan></text></g></g><g id="SvgjsG1028" transform="translate(37.76837921142578,167.3789275666678)"><path id="SvgjsPath1029" d="M 0 30C 0 -10 98 -10 98 30C 98 70 0 70 0 30Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#b8b8b8"></path><g id="SvgjsG1030"><text id="SvgjsText1031" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="78px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="20.55" transform="rotate(0)"><tspan id="SvgjsTspan1032" dy="16" x="49"><tspan id="SvgjsTspan1033" style="text-decoration:;">Producer1</tspan></tspan></text></g></g><g id="SvgjsG1034" transform="translate(37.76837921142578,259.38627085890414)"><path id="SvgjsPath1035" d="M 0 30C 0 -10 98 -10 98 30C 98 70 0 70 0 30Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#b8b8b8"></path><g id="SvgjsG1036"><text id="SvgjsText1037" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="78px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="20.55" transform="rotate(0)"><tspan id="SvgjsTspan1038" dy="16" x="49"><tspan id="SvgjsTspan1039" style="text-decoration:;">Producer2</tspan></tspan></text></g></g><g id="SvgjsG1040" transform="translate(103.76837921142578,138.2392142793143)"><path id="SvgjsPath1041" d="M 27.5 0L 55 48.29412078857422L 0 48.29412078857422Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffcccc"></path><g id="SvgjsG1042"><text id="SvgjsText1043" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="35px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="20.733825492858887" transform="rotate(0)"><tspan id="SvgjsTspan1044" dy="16" x="27.5"><tspan id="SvgjsTspan1045" style="text-decoration:;">A</tspan></tspan></text></g></g><g id="SvgjsG1046" transform="translate(98.76837921142578,239.53333506788852)"><path id="SvgjsPath1047" d="M 0 23L 32.5 0L 65 23L 32.5 46Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#99ccff"></path><g id="SvgjsG1048"><text id="SvgjsText1049" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="45px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="13.780000000000001" transform="rotate(0)"><tspan id="SvgjsTspan1050" dy="16" x="32.5"><tspan id="SvgjsTspan1051" style="text-decoration:;">B</tspan></tspan></text></g></g><g id="SvgjsG1052"><path id="SvgjsPath1053" d="M135.76837921142578 197.53333506788852C 183.38951139731188 205.93022552414453 199.41261430174825 243.03333506788852 247.76837921142578 243.03333506788852" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1054)"></path></g><g id="SvgjsG1056"><path id="SvgjsPath1057" d="M135.76837921142578 287.5333350678885C 183.24265059915723 295.9043300030215 199.56174066443725 243.03333506788852 247.76837921142578 243.03333506788852" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1058)"></path></g><g id="SvgjsG1060" transform="translate(261.7683792114258,192.53333506788852)"><path id="SvgjsPath1061" d="M 0 33.33L 295.5 33.33L 295.5 0L 346 50.5L 295.5 101L 295.5 67.67L 0 67.67L 0 33.33Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1062"><text id="SvgjsText1063" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="346px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="41.05" transform="rotate(0)"></text></g></g><g id="SvgjsG1064" transform="translate(491.7683792114258,212.23921046461703)"><path id="SvgjsPath1065" d="M 27.5 0L 55 48.29412078857422L 0 48.29412078857422Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffcccc"></path><g id="SvgjsG1066"><text id="SvgjsText1067" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="35px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="20.733825492858887" transform="rotate(0)"><tspan id="SvgjsTspan1068" dy="16" x="27.5"><tspan id="SvgjsTspan1069" style="text-decoration:;">A1</tspan></tspan></text></g></g><g id="SvgjsG1070" transform="translate(430.7683792114258,213.38627085890414)"><path id="SvgjsPath1071" d="M 0 23L 32.5 0L 65 23L 32.5 46Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#99ccff"></path><g id="SvgjsG1072"><text id="SvgjsText1073" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="45px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="13.780000000000001" transform="rotate(0)"><tspan id="SvgjsTspan1074" dy="16" x="32.5"><tspan id="SvgjsTspan1075" style="text-decoration:;">B1</tspan></tspan></text></g></g><g id="SvgjsG1076" transform="translate(375.7683792114258,212.23921046461703)"><path id="SvgjsPath1077" d="M 27.5 0L 55 48.29412078857422L 0 48.29412078857422Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffcccc"></path><g id="SvgjsG1078"><text id="SvgjsText1079" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="35px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="20.733825492858887" transform="rotate(0)"><tspan id="SvgjsTspan1080" dy="16" x="27.5"><tspan id="SvgjsTspan1081" style="text-decoration:;">A2</tspan></tspan></text></g></g><g id="SvgjsG1082" transform="translate(310.7683792114258,220.03333506788852)"><path id="SvgjsPath1083" d="M 0 23L 32.5 0L 65 23L 32.5 46Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#99ccff"></path><g id="SvgjsG1084"><text id="SvgjsText1085" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="45px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="13.780000000000001" transform="rotate(0)"><tspan id="SvgjsTspan1086" dy="16" x="32.5"><tspan id="SvgjsTspan1087" style="text-decoration:;">B2</tspan></tspan></text></g></g><g id="SvgjsG1088" transform="translate(25.003700256347656,25.00391230787875)"><path id="SvgjsPath1089" d="M 0 0L 236 0L 252 16L 252 83L 0 83L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1090" d="M 236 0L 236 16L 252 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1091" d="M 0 0L 236 0L 252 16L 252 83L 0 83L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1092"><text id="SvgjsText1093" font-family="微软雅黑" text-anchor="start" font-size="13px" width="232px" fill="#323232" font-weight="700" align="top" anchor="start" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="8.05" transform="rotate(0)"><tspan id="SvgjsTspan1094" dy="16" x="10"><tspan id="SvgjsTspan1095" style="text-decoration:;">Producer如何保证消息的顺序性：</tspan></tspan><tspan id="SvgjsTspan1096" dy="16" x="10"><tspan id="SvgjsTspan1097" style="text-decoration:;">如何没有顺序性约束，消息为 V;</tspan></tspan><tspan id="SvgjsTspan1098" dy="16" x="10"><tspan id="SvgjsTspan1099" style="text-decoration:;">如何有顺序性约束，消息为 K/V,同一个 </tspan></tspan><tspan id="SvgjsTspan1100" dy="16" x="10"><tspan id="SvgjsTspan1101" style="text-decoration:;">K 的消息会进入同一个 Partition</tspan></tspan></text></g></g><g id="SvgjsG1102" transform="translate(682.9448623657227,115.56262390715898)"><path id="SvgjsPath1103" d="M 0 4Q 0 0 4 0L 751.1213226318359 0Q 755.1213226318359 0 755.1213226318359 4L 755.1213226318359 294.786762714386Q 755.1213226318359 298.786762714386 751.1213226318359 298.786762714386L 4 298.786762714386Q 0 298.786762714386 0 294.786762714386Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffccff"></path><g id="SvgjsG1104"><text id="SvgjsText1105" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="736px" fill="#323232" font-weight="700" align="top" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="-1.95" transform="rotate(0)"><tspan id="SvgjsTspan1106" dy="16" x="378"><tspan id="SvgjsTspan1107" style="text-decoration:;">Consumer1</tspan></tspan></text></g></g><g id="SvgjsG1108" transform="translate(247.76837921142578,340.5333350678885)"><path id="SvgjsPath1109" d="M 0 0L 360 0L 360 59.352935791015625L 0 59.352935791015625Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ccffff"></path><g id="SvgjsG1110"><text id="SvgjsText1111" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="340px" fill="#323232" font-weight="700" align="top" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="-1.95" transform="rotate(0)"><tspan id="SvgjsTspan1112" dy="16" x="180"><tspan id="SvgjsTspan1113" style="text-decoration:;">Partition2</tspan></tspan></text></g></g><g id="SvgjsG1114" transform="translate(261.7683792114258,340.2098029633963)"><path id="SvgjsPath1115" d="M 0 19.8L 316 19.8L 316 0L 346 30L 316 60L 316 40.2L 0 40.2L 0 19.8Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1116"><text id="SvgjsText1117" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="346px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="20.55" transform="rotate(0)"></text></g></g><g id="SvgjsG1118"><path id="SvgjsPath1119" d="M135.76837921142578 370.2098029633963C 179.8877665463727 377.9892413228748 202.96837921142577 370.2098029633963 247.76837921142578 370.2098029633963" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1120)"></path></g><g id="SvgjsG1122"><path id="SvgjsPath1123" d="M135.76837921142578 289.38627085890414C 190.1760524798308 298.97981161369466 192.52137988390265 370.2098029633963 247.76837921142578 370.2098029633963" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1124)"></path></g><g id="SvgjsG1126"><path id="SvgjsPath1127" d="M135.76837921142578 370.2098029633963C 202.52393895722247 381.98060925887626 179.98300735421503 243.03333506788852 247.76837921142578 243.03333506788852" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1128)"></path></g><g id="SvgjsG1130"><path id="SvgjsPath1131" d="M135.76837921142578 197.53333506788852C 216.84495261459193 211.8293224622571 165.44106897734287 370.2098029633963 247.76837921142578 370.2098029633963" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1132)"></path></g><g id="SvgjsG1134" transform="translate(110.94486236572266,328.88627085890414)"><path id="SvgjsPath1135" d="M 0 15C 0 -5 30 -5 30 15C 30 35 0 35 0 15Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ccff99"></path><g id="SvgjsG1136"><text id="SvgjsText1137" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="10px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="5.55" transform="rotate(0)"><tspan id="SvgjsTspan1138" dy="16" x="15"><tspan id="SvgjsTspan1139" style="text-decoration:;">C</tspan></tspan></text></g></g><g id="SvgjsG1140" transform="translate(328.2683792114258,355.2098029633963)"><path id="SvgjsPath1141" d="M 0 15C 0 -5 30 -5 30 15C 30 35 0 35 0 15Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ccff99"></path><g id="SvgjsG1142"><text id="SvgjsText1143" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="10px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="5.55" transform="rotate(0)"><tspan id="SvgjsTspan1144" dy="16" x="15"><tspan id="SvgjsTspan1145" style="text-decoration:;">C</tspan></tspan></text></g></g><g id="SvgjsG1146" transform="translate(388.2683792114258,355.2098029633963)"><path id="SvgjsPath1147" d="M 0 15C 0 -5 30 -5 30 15C 30 35 0 35 0 15Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ccff99"></path><g id="SvgjsG1148"><text id="SvgjsText1149" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="10px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="5.55" transform="rotate(0)"><tspan id="SvgjsTspan1150" dy="16" x="15"><tspan id="SvgjsTspan1151" style="text-decoration:;">C</tspan></tspan></text></g></g><g id="SvgjsG1152" transform="translate(448.2683792114258,355.2098029633963)"><path id="SvgjsPath1153" d="M 0 15C 0 -5 30 -5 30 15C 30 35 0 35 0 15Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ccff99"></path><g id="SvgjsG1154"><text id="SvgjsText1155" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="10px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="5.55" transform="rotate(0)"><tspan id="SvgjsTspan1156" dy="16" x="15"><tspan id="SvgjsTspan1157" style="text-decoration:;">C</tspan></tspan></text></g></g><g id="SvgjsG1158" transform="translate(504.2683792114258,355.2098029633963)"><path id="SvgjsPath1159" d="M 0 15C 0 -5 30 -5 30 15C 30 35 0 35 0 15Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ccff99"></path><g id="SvgjsG1160"><text id="SvgjsText1161" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="10px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="5.55" transform="rotate(0)"><tspan id="SvgjsTspan1162" dy="16" x="15"><tspan id="SvgjsTspan1163" style="text-decoration:;">C</tspan></tspan></text></g></g><g id="SvgjsG1164"><path id="SvgjsPath1165" d="M607.7683792114258 243.03333506788852C 637.2024732485893 253.74646917000837 651.6217537384074 264.956005264352 682.9448623657227 264.956005264352" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1166)"></path><rect id="SvgjsRect1168" width="26" height="15" x="631.6482403172673" y="250.5120954544152" fill="#ffffff"></rect><text id="SvgjsText1169" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="26px" fill="#323232" font-weight="700" align="top" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="248.5620954544152" transform="rotate(0)"><tspan id="SvgjsTspan1170" dy="16" x="644.6482403172673"><tspan id="SvgjsTspan1171" style="text-decoration:;">拉取</tspan></tspan></text></g><g id="SvgjsG1172"><path id="SvgjsPath1173" d="M607.7683792114258 370.2098029633963C 656.3858131937798 387.9051017993753 631.2072697668865 264.956005264352 682.9448623657227 264.956005264352" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1174)"></path><rect id="SvgjsRect1176" width="26" height="15" x="631.1865613073935" y="316.7186411773663" fill="#ffffff"></rect><text id="SvgjsText1177" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="26px" fill="#323232" font-weight="700" align="top" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="314.7686411773663" transform="rotate(0)"><tspan id="SvgjsTspan1178" dy="16" x="644.1865613073935"><tspan id="SvgjsTspan1179" style="text-decoration:;">拉取</tspan></tspan></text></g><g id="SvgjsG1180" transform="translate(694.7683792114258,129.0921538850272)"><path id="SvgjsPath1181" d="M 0 89.67014191035436L 211.49277703864396 89.67014191035436L 211.49277703864396 0L 347.35662841796875 135.86385137932479L 211.49277703864396 271.72770275864957L 211.49277703864396 182.05756084829522L 0 182.05756084829522L 0 89.67014191035436Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1182"><text id="SvgjsText1183" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="348px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="126.41385137932478" transform="rotate(0)"></text></g></g><g id="SvgjsG1184" transform="translate(801.8272171020508,229.95600526435197)"><path id="SvgjsPath1185" d="M 0 4Q 0 0 4 0L 190.88232421875 0Q 194.88232421875 0 194.88232421875 4L 194.88232421875 66Q 194.88232421875 70 190.88232421875 70L 4 70Q 0 70 0 66Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#cce5ff"></path><g id="SvgjsG1186"><text id="SvgjsText1187" font-family="微软雅黑" text-anchor="start" font-size="13px" width="175px" fill="#323232" font-weight="700" align="top" anchor="start" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="-1.95" transform="rotate(0)"><tspan id="SvgjsTspan1188" dy="16" x="10"><tspan id="SvgjsTspan1189" style="text-decoration:;">P1</tspan></tspan></text></g></g><g id="SvgjsG1190" transform="translate(691.7683792114258,124.2392142793143)"><path id="SvgjsPath1191" d="M 0 0L 155.35662841796875 0L 171.35662841796875 16L 171.35662841796875 68.29412078857422L 0 68.29412078857422L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1192" d="M 155.35662841796875 0L 155.35662841796875 16L 171.35662841796875 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1193" d="M 0 0L 155.35662841796875 0L 171.35662841796875 16L 171.35662841796875 68.29412078857422L 0 68.29412078857422L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1194"><text id="SvgjsText1195" font-family="微软雅黑" text-anchor="start" font-size="13px" width="152px" fill="#323232" font-weight="700" align="middle" anchor="start" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="1.6970603942871094" transform="rotate(0)"><tspan id="SvgjsTspan1196" dy="16" x="10"><tspan id="SvgjsTspan1197" style="text-decoration:;">当 Consumer 的个数少于 </tspan></tspan><tspan id="SvgjsTspan1198" dy="16" x="10"><tspan id="SvgjsTspan1199" style="text-decoration:;">Partition 个数的时候，一</tspan></tspan><tspan id="SvgjsTspan1200" dy="16" x="10"><tspan id="SvgjsTspan1201" style="text-decoration:;">个 Consumer 会消费多个 </tspan></tspan><tspan id="SvgjsTspan1202" dy="16" x="10"><tspan id="SvgjsTspan1203" style="text-decoration:;">Partition</tspan></tspan></text></g></g><g id="SvgjsG1204" transform="translate(705.1250076293945,229.95600526435197)"><path id="SvgjsPath1205" d="M 0 4Q 0 0 4 0L 78 0Q 82 0 82 4L 82 66Q 82 70 78 70L 4 70Q 0 70 0 66Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ccffe6"></path><g id="SvgjsG1206"><text id="SvgjsText1207" font-family="微软雅黑" text-anchor="start" font-size="13px" width="62px" fill="#323232" font-weight="700" align="top" anchor="start" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="-1.95" transform="rotate(0)"><tspan id="SvgjsTspan1208" dy="16" x="10"><tspan id="SvgjsTspan1209" style="text-decoration:;">P2</tspan></tspan></text></g></g><g id="SvgjsG1210" transform="translate(934.4466934204102,240.80894487006486)"><path id="SvgjsPath1211" d="M 27.5 0L 55 48.29412078857422L 0 48.29412078857422Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffcccc"></path><g id="SvgjsG1212"><text id="SvgjsText1213" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="35px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="20.733825492858887" transform="rotate(0)"><tspan id="SvgjsTspan1214" dy="16" x="27.5"><tspan id="SvgjsTspan1215" style="text-decoration:;">A1</tspan></tspan></text></g></g><g id="SvgjsG1216" transform="translate(866.7683792114258,241.95600526435197)"><path id="SvgjsPath1217" d="M 0 23L 32.5 0L 65 23L 32.5 46Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#99ccff"></path><g id="SvgjsG1218"><text id="SvgjsText1219" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="45px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="13.780000000000001" transform="rotate(0)"><tspan id="SvgjsTspan1220" dy="16" x="32.5"><tspan id="SvgjsTspan1221" style="text-decoration:;">B1</tspan></tspan></text></g></g><g id="SvgjsG1222" transform="translate(811.7683792114258,240.80894487006486)"><path id="SvgjsPath1223" d="M 27.5 0L 55 48.29412078857422L 0 48.29412078857422Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffcccc"></path><g id="SvgjsG1224"><text id="SvgjsText1225" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="35px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="20.733825492858887" transform="rotate(0)"><tspan id="SvgjsTspan1226" dy="16" x="27.5"><tspan id="SvgjsTspan1227" style="text-decoration:;">A2</tspan></tspan></text></g></g><g id="SvgjsG1228" transform="translate(749.5330772399902,249.95600526435197)"><path id="SvgjsPath1229" d="M 0 15C 0 -5 30 -5 30 15C 30 35 0 35 0 15Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ccff99"></path><g id="SvgjsG1230"><text id="SvgjsText1231" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="10px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="-2.45" transform="rotate(0)"><tspan id="SvgjsTspan1232" dy="16" x="15"><tspan id="SvgjsTspan1233" style="text-decoration:;">C</tspan></tspan><tspan id="SvgjsTspan1234" dy="16" x="15"><tspan id="SvgjsTspan1235" style="text-decoration:;">1</tspan></tspan></text></g></g><g id="SvgjsG1236" transform="translate(711.7683792114258,249.95600526435197)"><path id="SvgjsPath1237" d="M 0 15C 0 -5 30.529396057128906 -5 30.529396057128906 15C 30.529396057128906 35 0 35 0 15Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ccff99"></path><g id="SvgjsG1238"><text id="SvgjsText1239" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="11px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="-2.45" transform="rotate(0)"><tspan id="SvgjsTspan1240" dy="16" x="15.5"><tspan id="SvgjsTspan1241" style="text-decoration:;">C</tspan></tspan><tspan id="SvgjsTspan1242" dy="16" x="15.5"><tspan id="SvgjsTspan1243" style="text-decoration:;">2</tspan></tspan></text></g></g><g id="SvgjsG1244" transform="translate(1042.1250076293945,131.51482408149064)"><path id="SvgjsPath1245" d="M 18 0Q 9 0 9 9L 9 124.44118118286133Q 9 133.44118118286133 0 133.44118118286133Q 9 133.44118118286133 9 142.44118118286133L 9 257.88236236572266Q 9 266.88236236572266 18 266.88236236572266" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1246" d="M 372 266.88236236572266Q 381 266.88236236572266 381 257.88236236572266L 381 142.44118118286133Q 381 133.44118118286133 390 133.44118118286133Q 381 133.44118118286133 381 124.44118118286133L 381 9Q 381 0 372 0" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1247" d="M 0 0L 390 0L 390 266.88236236572266L 0 266.88236236572266Z" stroke="none" fill="none"></path><g id="SvgjsG1248"><text id="SvgjsText1249" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="370px" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="123.99118118286133" transform="rotate(0)"></text></g></g><g id="SvgjsG1250" transform="translate(1080.1250076293945,138.2392142793143)"><path id="SvgjsPath1251" d="M 0 0L 303 0L 319 16L 319 66.18358387742398L 0 66.18358387742398L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1252" d="M 303 0L 303 16L 319 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1253" d="M 0 0L 303 0L 319 16L 319 66.18358387742398L 0 66.18358387742398L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1254"><text id="SvgjsText1255" font-family="微软雅黑" text-anchor="start" font-size="13px" width="299px" fill="#323232" font-weight="700" align="middle" anchor="start" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="8.141791938711993" transform="rotate(0)"><tspan id="SvgjsTspan1256" dy="16" x="10"><tspan id="SvgjsTspan1257" style="text-decoration:;">方案一：单线程遍历消息，每次</tspan><tspan id="SvgjsTspan1258" style="text-decoration:;fill: rgb(0, 0, 0);caret-color: rgb(4, 51, 255);">逐个提交 offset，</tspan></tspan><tspan id="SvgjsTspan1259" dy="16" x="10"><tspan id="SvgjsTspan1260" style="text-decoration:;fill: rgb(0, 0, 0);caret-color: rgb(4, 51, 255);">这种维护的方式可靠，不会出现消息的丢失和重复消</tspan></tspan><tspan id="SvgjsTspan1261" dy="16" x="10"><tspan id="SvgjsTspan1262" style="text-decoration:;fill: rgb(0, 0, 0);caret-color: rgb(4, 51, 255);">费，但是无法利用多线程效率的提高</tspan></tspan></text></g></g><g id="SvgjsG1263" transform="translate(1083.1250076293945,231.86421332563998)"><path id="SvgjsPath1264" d="M 0 0L 303 0L 319 16L 319 66.18358387742398L 0 66.18358387742398L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1265" d="M 303 0L 303 16L 319 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1266" d="M 0 0L 303 0L 319 16L 319 66.18358387742398L 0 66.18358387742398L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1267"><text id="SvgjsText1268" font-family="微软雅黑" text-anchor="start" font-size="13px" width="299px" fill="#323232" font-weight="700" align="middle" anchor="start" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="15.641791938711993" transform="rotate(0)"><tspan id="SvgjsTspan1269" dy="16" x="10"><tspan id="SvgjsTspan1270" style="text-decoration:;">方案二：按每次拉取的消息的批次进行 offset 的维</tspan></tspan><tspan id="SvgjsTspan1271" dy="16" x="10"><tspan id="SvgjsTspan1272" style="text-decoration:;">护</tspan></tspan></text></g></g><g id="SvgjsG1273" transform="translate(1083.1250076293945,311.77574157714844)"><path id="SvgjsPath1274" d="M 0 0L 303 0L 319 16L 319 79.27205562591553L 0 79.27205562591553L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1275" d="M 303 0L 303 16L 319 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1276" d="M 0 0L 303 0L 319 16L 319 79.27205562591553L 0 79.27205562591553L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1277"><text id="SvgjsText1278" font-family="微软雅黑" text-anchor="start" font-size="13px" width="299px" fill="#323232" font-weight="700" align="top" anchor="start" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="8.05" transform="rotate(0)"><tspan id="SvgjsTspan1279" dy="16" x="10"><tspan id="SvgjsTspan1280" style="text-decoration:;">方案三：按分区进行 offset 的维护，因为 offset 的</tspan></tspan><tspan id="SvgjsTspan1281" dy="16" x="10"><tspan id="SvgjsTspan1282" style="text-decoration:;">面向 Partition 的。此时可以采用多线程按照 </tspan></tspan><tspan id="SvgjsTspan1283" dy="16" x="10"><tspan id="SvgjsTspan1284" style="text-decoration:;">Partition 进行消息的处理。每个 Partition 又可以</tspan></tspan><tspan id="SvgjsTspan1285" dy="16" x="10"><tspan id="SvgjsTspan1286" style="text-decoration:;">使用多线程按照消息的种类进行处理</tspan></tspan></text></g></g><g id="SvgjsG1287" transform="translate(1284.066162109375,25.00391230787875)"><path id="SvgjsPath1288" d="M 0 50.94473726647078C 0 -16.981579088823594 183.11764526367188 -16.981579088823594 183.11764526367188 50.94473726647078Q 179.45529235839842 99.85168504228272 91.55882263183594 101.88947453294156Q 61.039215087890625 101.88947453294156 30.519607543945312 91.70052707964742L 0 101.88947453294156L 21.42476449584961 87.31927967473092Q 0 71.32263217305909 0 50.94473726647078" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ccffcc"></path><g id="SvgjsG1289"><text id="SvgjsText1290" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="164px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="25.994737266470782" transform="rotate(0)"><tspan id="SvgjsTspan1291" dy="16" x="92"><tspan id="SvgjsTspan1292" style="text-decoration:;">不使用异步 offset 的自动提</tspan></tspan><tspan id="SvgjsTspan1293" dy="16" x="92"><tspan id="SvgjsTspan1294" style="text-decoration:;">交，因为自动提交可能造成</tspan></tspan><tspan id="SvgjsTspan1295" dy="16" x="92"><tspan id="SvgjsTspan1296" style="text-decoration:;">消息的丢失或者重复消费</tspan></tspan></text></g></g></svg>