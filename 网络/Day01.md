# Day01

## 网络层级

- 应用层：包含 HTTP 协议，组装数据，用户应用程序

- 传输控制层：TCP/IP，UDP 协议
  TCP建立连接，3次握手。3次保证客户端和服务端都确认可以建立连接（output 都有 input 回应）
  建立连接后进行数据传输，
  断开连接，4次分手，保证连接可靠性。

  > 三次握手+发送数据+四次分手 是最小的粒度，不可分割的
  
  ```shell
  netstat -natp # 查看当前所有的 tcp 连接
  ```

- 网络层
  每个网络中的机器存储自己周边的路由表，根据路由表匹配到下一个节点

- 链路层
  根据网络层的下一个节点匹配到 MAC 地址

- 物理层

> 浏览器属于应用层，其他层次在操作传统内核

## 网络数据传输

TCP 是基于 “下一跳” 的，根据目标 ip 到路由表中的掩码进行与运算，与目的网段做比较，如果相同找到下一跳的 ip, 根据下一跳的 ip 匹配到 MAC 地址，然后进行转发。数据包中的目标 ip 是不变的，下一跳 MAC 地址是变化的。
