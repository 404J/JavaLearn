# Day01

## Redis 特点

* 内存型的 k-v 数据库
* 单线程、单进程处理用户请求。

## 单线程下如何保证高并发

采用操作系统内核的 epoll 调用，实现多路复用

> 了解 BIO NIO AIO 等IO 模型
BIO: 多个 socket IO 连接到内核，用户空间开辟多个线程去 read fd，此过程是同步的、阻塞的
NIO：多个 socket IO 连接到内核，用户空间开辟一个线程去轮询 read fd，此过程是非阻塞的直接返回是否有 IO, 但是调用内核次数多成本高 --发展--> 用户空间开辟一个线程去 select fds，由内核去轮询然后返回那些 fds 可以 read，然后线程去 read fd --发展--> epoll 开辟一个用户空间和内核空间共享的空间，避免大量 fds 的拷贝。其中维护一个红黑树，存放着 epfd 节点，当 IO 就绪后，把节点放到一个共享空间的链表中，事件通知到线程，线程调用 read fd 但是此过程中用户线程 read fd 仍然是同步的
